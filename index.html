<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <title>JS Căn Bản!</title>
  </head>
  <body>
    <div class="container mt-5">
      <div class="alert alert-primary text-center" role="alert">
          <h1>CHƯƠNG TRÌNH TÍNH ĐIỂM, TỬ VI, BMI </h1>
          <button id="buttonDownload" class="btn btn-danger" hidden>Tải Video</button>
       </div>
      <div class="row"> 
           <div class="col-md-5">
              <div class="card mb-3 ">
                  <div class="card-body">
                      <div class="input-group mb-3">
                          <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1" style="min-width: 70px;">Toán</span>
                          </div>
                          <input type="text" class="form-control" id="diem_toan">
                      </div>
                      <div class="input-group mb-3">
                          <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1" style="min-width: 70px;">Lý</span>
                          </div>
                          <input type="text" class="form-control" id="diem_ly">
                      </div>
                      <div class="input-group mb-3">
                          <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1" style="min-width: 70px;">Hóa</span>
                          </div>
                          <input type="text" class="form-control" id="diem_hoa">
                      </div>
                      <button onclick="clickTinhDiem()" class="btn btn-danger">Tính Điểm</button>
                  </div>
              </div>
          </div>
          <div class="col-md-7">
              <div class="alert alert-success" role="alert">
                  <h4 class="alert-heading">Đã tính toán xong điểm!</h4>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1" style="min-width: 150px;">Điểm Trung Bình</span>
                      </div>
                      <input type="text" class="form-control" id = 'kq_diem_tb'>
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1" style="min-width: 150px;">Xếp Loại</span>
                      </div>
                      <input type="text" class="form-control" id="kq_xep_loai">
                  </div>
              </div>
          </div> 
      </div>
      <div class="row">
        <div class="col-md-5">
            <div class="card">
                <div class="card-body">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1" style="min-width: 70px;">Họ và tên</span>
                        </div>
                        <input type="text" class="form-control" id="full_name">
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1" style="min-width: 70px;">Năm sinh</span>
                        </div>
                        <input type="number" class="form-control" id="nam_sinh">
                    </div>
                    <button onclick="clickTinhTuVi()" class="btn btn-danger">Xem</button>
                </div>
            </div>
        </div>
        <div class="col-md-7">
            <div class="alert alert-success" role="alert">
                <h4 class="alert-heading">Đã tính toán xong tu vi !!! </h4>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1" style="min-width: 150px;">Họ và Tên</span>
                    </div>
                    <input type="text" class="form-control" id = 'kq_ho_ten'>
                </div>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1" style="min-width: 150px;">Tuổi</span>
                    </div>
                    <input type="text" class="form-control" id="kq_tuoi">
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                      <span class="input-group-text" id="basic-addon1" style="min-width: 150px;">Con Giáp</span>
                  </div>
                  <input type="text" class="form-control" id="kq_con_giap">
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1" style="min-width: 150px;">Hợp Tuổi</span>
                </div>
                <input type="text" class="form-control" id="kq_hop_tuoi">
            </div>
            <img src="" class="img-fluid" id="hinh_anh">
            </div>
        </div>
    </div>
    <div class="row"> 
        <div class="col-md-5">
           <div class="card mb-3 ">
               <div class="card-body">
                   <div class="input-group mb-3">
                       <div class="input-group-prepend">
                         <span class="input-group-text" id="basic-addon1" style="min-width: 70px;">Nhập vào cân nặng</span>
                       </div>
                       <input type="text" class="form-control" id="can_nang">
                   </div>
                   <div class="input-group mb-3">
                       <div class="input-group-prepend">
                         <span class="input-group-text" id="basic-addon1" style="min-width: 70px;">Nhập vào chiều cao</span>
                       </div>
                       <input type="text" class="form-control" id="chieu_cao">
                   </div>
                   <button onclick="clickTinhBMI()" class="btn btn-danger">Tính BMI</button>
               </div>
           </div>
       </div>
       <div class="col-md-7">
           <div class="alert alert-success" role="alert">
               <h4 class="alert-heading">Đã tính toán xong BMI</h4>
               <div class="input-group mb-3">
                   <div class="input-group-prepend">
                       <span class="input-group-text" id="basic-addon1" style="min-width: 150px;">Chỉ số BMI của bạn</span>
                   </div>
                   <input type="text" class="form-control" id = 'bmi'>
               </div>
               <div class="input-group mb-3">
                   <div class="input-group-prepend">
                       <span class="input-group-text" id="basic-addon1" style="min-width: 150px;">Hiện bạn đang</span>
                   </div>
                   <input type="text" class="form-control" id="kq_bmi">
               </div>
               <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1" style="min-width: 150px;">Bạn cần</span>
                </div>
                <input type="text" class="form-control" id="kq_can_tang">
            </div>
            <img src="" class="img-fluid" id="hinh_anh_bmi">
           </div>
       </div> 
   </div>
  </div>
   
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      var thoigian = 10;
      var button = document.getElementById("buttonDownload");

      setTimeout(function(){
        var button = document.getElementById("buttonDownload");
        button.removeAttribute("hidden");
        console.log('Đã chạy');
      },3000);
        function clickTinhDiem()
      {
        console.log("Đã Click Nút Tính Điểm");
        var toan = document.getElementById("diem_toan").value;
        var ly = document.getElementById("diem_ly").value;
        var hoa = document.getElementById("diem_hoa").value;
        var trung_binh = (toan * 1 + ly * 1 + hoa * 1) / 3;
        var xep_loai = tinhXepLoai(trung_binh);
        document.getElementById("kq_diem_tb").value = trung_binh;
        document.getElementById("kq_xep_loai").value = xep_loai;
      }
      function tinhXepLoai(diem_tb)
      {
            if(diem_tb > 10 || diem_tb < 0){
            return ('Điểm bị sai !');
            }else if(diem_tb > 9){
            return ('Xếp loại xuất sắc !');
            }else if(diem_tb > 8.5){
            return ('Xếp loại giỏi !');
            }else if(diem_tb > 6.5){
            return ('Xếp loại khá !');
            }else if(diem_tb > 5){
            return ('Xếp loại trung bình !');
            }else if(diem_tb > 3.5){
            return ('Xếp loại yếu !');
            }else{
            return ('Xếp loại kém !');
            }
      }
      function clickTinhTuVi()
      {
        console.log("Đã Click Nút Xem");
        var hoten = document.getElementById("full_name").value;
        var nam_sinh = document.getElementById("nam_sinh").value *1;
        var tuoi = new Date().getFullYear() - nam_sinh;
        var can  = ['Tân', 'Canh', 'Nhâm', 'Quý', 'Giáp', 'Ất', 'Bính', 'Đinh', 'Mậu', 'Kỷ'];
            var chi  = ['Thân', 'Dậu', 'Tuất', 'Hợi', 'Tý', 'Sửu', 'Dần', 'Mẹo', 'Thìn', 'Tỵ', 'Ngọ', 'Mùi'];
            var con_giap = can[nam_sinh % 10] + ' ' + chi[nam_sinh % 12];
            var tuoi_hop = "Tuổi " + chi[(nam_sinh - 4) % 12] + " và Tuổi " +  chi[(nam_sinh + 4) % 12];
            var url      = (nam_sinh + 9) % 12 + ".png";

            document.getElementById("kq_ho_ten").value = hoten;
            document.getElementById("kq_tuoi").value = tuoi;
            document.getElementById("kq_con_giap").value = con_giap;
            document.getElementById("kq_hop_tuoi").value = tuoi_hop;
            document.getElementById("hinh_anh").src = url;
            document.getElementById("message").innerText = "Đã tính xong chu vi của bạn !!! ";
      }
      function clickTinhBMI(can_nang, chieu_cao)
      {
        console.log("Đã Click Nút Tính BMI");
        var can_nang = document.getElementById("can_nang").value *1;
        var chieu_cao = document.getElementById("chieu_cao").value *1;
        var bmi       =(can_nang) / (chieu_cao * chieu_cao).toFixed(2);
        var kq_bmi    = TinhTrangBMI(bmi);
        var kq_can_tang = CanTangBMI(bmi);
        var url = HinhBMI(bmi) + '.png';
            document.getElementById("bmi").value = bmi;
            document.getElementById("kq_bmi").value = kq_bmi;
            document.getElementById("kq_can_tang").value = kq_can_tang;
            document.getElementById("hinh_anh_bmi").src = url;
      }
      function TinhTrangBMI(bmi)
      {
            if(bmi < 18.5){
                return ' Cân nặng thấp gầy';
            }else if(bmi <= 24.9){
                return 'Bình thường';
            }else if(bmi <= 29.9){
                return 'Thừa Cân';
            }else if(bmi <= 34.9){
                return ' Béo phì độ 1';
            }else if(bmi <= 39.9){
                return ' Béo phì độ 2';
            }else if(bmi >= 40){
                return' Béo phì độ 3';
            }
      }
      function CanTangBMI(bmi)
      {
            if(bmi < 24)
            {
                return 'Bạn cần tăng thêm  ' + (24 - bmi) + '  để được cơ thể cân bằng !!!';
            }else if(bmi > 24)
            {
                return 'Bạn cần giảm  ' + (bmi - 24)  + '  để được cơ thể cân bằng !!!';

            }
      }
      function HinhBMI(bmi)
      {
            if(bmi < 18.5){
                return 'bmi1' ;
            }else if(bmi <= 24.9){
                return 'bmi2' ;
            }else if(bmi <= 29.9){
                return 'bmi3' ;
            }else if(bmi <= 34.9){
                return 'bmi4' ;
            }else if(bmi <= 39.9){
                return 'bmi5' ;
            }else if(bmi >= 40){
                return 'bmi5' ;
            }
      }
    
      
   </script>
  </body>
</html>
